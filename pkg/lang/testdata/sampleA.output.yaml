# code generated by retab. DO NOT EDIT.
# join the fight against yaml @ github.com/walteh/retab

# source: "sampleA.input.retab"

version: 3
tasks:
    buf-bin:
        generates:
            - bin/buf
        dir: tools
        cmds:
            - go build -mod=vendor -o ./bin/buf github.com/bufbuild/buf/cmd/buf
        sources:
            - go.sum
            - go.mod
            - main.go
    task-bin:
        generates:
            - bin/task
        dir: tools
        cmds:
            - go build -mod=vendor -o ./bin/task github.com/go-task/task/v3/cmd/task
        sources:
            - go.sum
            - go.mod
            - main.go
    buf-gen:
        deps:
            - buf-bin
            - retab-gen
        generates:
            - gen/buf/**/*
        dir: .
        sources:
            - proto/**/*.proto
            - ./tools/bin/buf
            - ./a
        cmds:
            - |
              ./tools/bin/buf generate --include-imports --include-wkt --exclude-path="./vendor" --template a --path=./proto
            - find ./gen/buf -maxdepth 5 -type f -mmin +1 -delete
    tidy:
        cmds:
            - go mod tidy
            - cd tools && go mod tidy
            - go work vendor
    default:
        deps:
            - tools
            - gen
            - lint
            - test
    tools:
        deps:
            - buf-bin
            - task-bin
    genz:
        deps:
            - retab-gen
            - buf-gen
            - mockery-gen
        cmds:
            - .
        dir: .
    zroll:
        - deps:
            - buf-bin
            - retab-gen
          generates:
            - gen/buf/**/*
          dir: .
          sources:
            - proto/**/*.proto
            - ./tools/bin/buf
            - ./a
          cmds:
            - |
              ./tools/bin/buf generate --include-imports --include-wkt --exclude-path="./vendor" --template a --path=./proto
            - find ./gen/buf -maxdepth 5 -type f -mmin +1 -delete
        - cmds:
            - go mod tidy
            - cd tools && go mod tidy
            - go work vendor
    def:
        cmds:
            - z1
            - z2
            - z4
            - z5
            - z3
            - z6
    abc:
        cmds:
            - echo "abc"
    update:
        cmds:
            - go get -u -v ./... && go mod tidy
            - cd tools && go get -u -v ./... && go mod tidy
            - go work vendor
    wrk: def
